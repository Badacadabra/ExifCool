<!DOCTYPE html>
<html lang="fr" prefix="og: http://ogp.me/ns#">
    <head>
        <meta charset="UTF-8">
        <title>Carte</title>
        <meta name="description" content="Une galerie d'images pour le module UMDN3C">
        <meta name="author" content="Macky Dieng, Baptiste Vannesson">
        <meta property="og:title" content="Carte interactive d'images géotaggées">
        <meta property="og:type" content="website">
        <meta property="og:url" content="http://www.domain.com">
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:site" content="@Badacadabra">
        <meta name="twitter:creator" content="@dieng445">
        <meta name="twitter:title" content="Carte interactive d'images géotaggées">
        <meta name="twitter:description" content="Une galerie d'images pour le module UMDN3C">
        <meta name="twitter:image" content="http://www.domaine.com/ui/images/photographer.jpg">
        <link rel="icon" type="image/png" href="../images/favicon.png">
        <link rel="stylesheet" href="../css/style.css" media="all">
        <link rel="stylesheet" href="semantic/dist/semantic.min.css">
        <link rel="stylesheet" href="../css/jquery.mCustomScrollbar.min.css">
        <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.5/leaflet.css" />
    </head>
    <body itemscope itemtype="http://schema.org/WebPage">
        <nav class="ui labeled icon fixed inverted menu">
            <a class="item" href="index.html">
                <i class="home icon"></i>
                Accueil
            </a>
            <a class="item" href="carte.html">
                <i class="marker icon"></i>
                Carte
            </a>
            <a class="item" href="upload.html">
                <i class="cloud upload icon"></i>
                Upload
            </a>
            <a class="item" href="a-propos.html">
                <i class="help circle icon"></i>
                À propos
            </a>
            <div class="ui large right item input">
                <input placeholder="Chercher une image..." type="text">
            </div>
        </nav>
        <section class="ui segment">
            <div id="map" itemscope itemtype="http://schema.org/Map"></div>
        </section>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
        <script src="semantic/dist/semantic.min.js"></script>
        <script src="../js/jquery.mCustomScrollbar.concat.min.js"></script>
        <script src="../js/initCustomScrollbar.js"></script>
        <script src="http://cdn.leafletjs.com/leaflet-0.7.5/leaflet.js"></script>
        <script>
            // Initialisation de la carte
            var map = L.map('map').setView([48.8534100, 2.3488000], 3);
            L.tileLayer('https://api.mapbox.com/v4/mapbox.light/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiYmFkYWNhZGFicmEiLCJhIjoiY2lmd243aHNjMDI2enRjbTBiMndsbTMxYyJ9.t6qub-xAwB9RnfP4dE3DXw', {
                attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="http://mapbox.com">Mapbox</a>',
                minZoom: 2,
                id: 'badacadabra.cifwn7his023htrlzshz6jfmz',
                accessToken: 'pk.eyJ1IjoiYmFkYWNhZGFicmEiLCJhIjoiY2lmd243aHNjMDI2enRjbTBiMndsbTMxYyJ9.t6qub-xAwB9RnfP4dE3DXw'
            }).addTo(map);

            // Ajout des marqueurs à partir de données au format JSON
            var data = {
                markers: [
                    { "latitude":60.1756, "longitude":24.9342, "image":"../images/baptiste-vannesson.jpg" },
                    { "latitude":48.8534100, "longitude":2.3488000, "image":"../images/macky-dieng.jpg" },
                ]
            }

            for (var i = 0; i < data.markers.length; i++) {
                var marker = L.marker([data.markers[i].latitude, data.markers[i].longitude]).addTo(map);
                marker.bindPopup("<img src=\"" + data.markers[i].image + "\">");
            }
        </script>
    </body>
</html>
